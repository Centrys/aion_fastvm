ext.moduleName = 'aion.fastvm'

dependencies { 
    compile project(':modAion')
    compile project(':modAionBase')
    compile project(':modCrypto')
    compile project(':modMcf')
    compile project(':modVM')
    compile project(':modPrecompiled')
    compile files("${rootProject.projectDir}/lib/libJson.jar")
    compile files("${rootProject.projectDir}/lib/libnsc.jar")
    compile group: 'org.apache.commons', name: 'commons-collections4', version: '4.0'
    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.4'
    compile 'org.slf4j:slf4j-api:1.7.25'

    testCompile project(':modAionImpl')
    testCompile project(':modDbImpl')
    testCompile project(':modRlp')
    testCompile project(':modLogger')
    testCompile project(':modEvtMgr')
    testCompile 'junit:junit:4.12'
    testCompile 'com.google.truth:truth:0.42'
    testCompile 'org.hamcrest:hamcrest-core:1.3'
    testCompile "org.mockito:mockito-core:2.21.0"
}

task copyTestContracts(type: Copy) { 
    from 'test/org/aion/contract'
    into "${project.buildDir}/org/aion/contract"
}

compileTestJava.dependsOn copyTestContracts
test.dependsOn copyNativeLibsForModuleTests
